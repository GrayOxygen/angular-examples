!function(){"use strict";angular.module("common.api",[]).factory("Api",["$http",function(a){function b(a){var b="";for(var c in a)if(a[c])switch(typeof a[c]){case"boolean":b+=c+"="+parseInt(a[c],10)+"&";break;case"number":case"string":b+=c+"="+a[c]+"&";break;case"object":for(var d in a[c])a[c][d]&&(b+=c+"["+encodeURIComponent(d)+"]="+encodeURIComponent(a[c][d])+"&")}return b}var c="",d={};return d.setBase=function(a){c=a},d.get=function(d,e){return a.get(c+d+"?"+b(e))},d.post=function(b,d){return a.post(c+b,d)},d.put=function(b,d){return a.put(c+b,d)},d.delete=function(d,e){return a.delete(c+d+"?"+b(e))},d}])}(),function(){"use strict";angular.module("common.confirm",[]).directive("confirm",["$document",function(a){return{restrict:"A",link:function(b,c,d){var e=Math.floor(1e10*Math.random()),f=d.confirmMessage||"",g=d.confirmActionButton||"Yes",h=d.confirmActionClass||"btn-danger",i=d.confirmCancelButton||"No",j=d.confirmTitle||"Confirm",k=d.confirmPlacement||"top";d.buttonId=e;var l="<div class='popover-body' id='button-"+e+"'><span>"+f+"</span><span class='confirm-action-button btn "+h+"'>"+g+"</span> <span class='confirm-cancel-button btn btn-default'>"+i+"</span></div>";c.popover({content:l,html:!0,trigger:"manual",title:j,placement:k}),c.bind("click",function(f){f.stopPropagation(),c.popover("show");var g=$("#button-"+e);g.closest(".popover").click(function(a){a.preventDefault(),a.stopPropagation()}),g.find(".confirm-action-button").click(function(){g.closest(".popover").remove(),b.$apply(function(){b.$eval(d.confirm)})}),g.find(".confirm-cancel-button").click(function(){a.off("click.confirm."+e),g.closest(".popover").remove()}),a.on("click.confirm."+e,":not(.popover, .popover *)",function(){a.off("click.confirm."+e),g.closest(".popover").remove()})})}}}])}(),function(){"use strict";angular.module("common.dateRange",[]).directive("dateRange",["$window","$timeout",function(a,b){return{restrict:"A",scope:{dateRange:"=",ngUpdate:"&"},template:"<i class='icon-calendar'></i> <span></span> <b class='caret'></b>",link:function(c,d){c.dateRangeOptions={ranges:{Today:[new Date,new Date],Yesterday:[moment().subtract("days",1),moment().subtract("days",1)],"Last 7 Days":[moment().subtract("days",6),new Date],"Last 30 Days":[moment().subtract("days",29),new Date],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")]},format:"YYYY-MM-DD",displayFormat:"M/DD/YYYY",separator:" to ",startDate:moment().subtract("days",7).format("M/DD/YYYY"),endDate:moment().format("M/DD/YYYY"),locale:{applyLabel:"Submit",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom Range",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1},showWeekNumbers:!1,buttonClasses:["btn-danger"],dateLimit:!1},c.dateRange=angular.extend(c.dateRangeOptions,c.dateRange);var e=a.moment(c.dateRange.startDate).format(c.dateRangeOptions.displayFormat),f=a.moment(c.dateRange.endDate).format(c.dateRangeOptions.displayFormat);$(d).find("span").html(e+" - "+f),d.daterangepicker(c.dateRange,function(a,g){e=a.format(c.dateRangeOptions.displayFormat),f=g.format(c.dateRangeOptions.displayFormat),$(d).find("span").html(e+" - "+f),a=a.format(c.dateRangeOptions.format),g=g.format(c.dateRangeOptions.format),b(function(){c.ngUpdate({start:a,end:g})})})}}}])}(),function(){"use strict";angular.module("common.drag",[]).directive("drag",["$timeout",function(a){return{scope:{drag:"="},link:function(b,c){$(c).draggable({stop:function(c,d){a(function(){b.drag.top=d.position.top,b.drag.left=d.position.left})}})}}}])}(),function(){"use strict";angular.module("common.dragdrop",[]).factory("DragDropHandler",[function(){return{dragObject:void 0,addObject:function(a,b,c){b.splice(c,0,a)},moveObject:function(a,b,c){a.splice(c,0,a.splice(b,1)[0])}}}]).directive("draggable",["DragDropHandler",function(a){return{scope:{draggable:"="},link:function(b,c,d){c.draggable({connectToSortable:d.draggableTarget,helper:"clone",revert:"invalid",start:function(){a.dragObject=b.draggable},stop:function(){a.dragObject=void 0}}),c.disableSelection()}}}]).directive("droppable",["DragDropHandler",function(a){return{scope:{droppable:"=",ngUpdate:"&",ngCreate:"&"},link:function(b,c){c.sortable(),c.disableSelection(),c.on("sortdeactivate",function(d,e){var f=angular.element(e.item).scope().$index,g=c.children().index(e.item);g>=0&&b.$apply(function(){f>=0?(a.moveObject(b.droppable,f,g),b.ngUpdate({from:f,to:g})):(b.ngCreate({object:a.dragObject,to:g}),e.item.remove())})})}}}])}(),function(){"use strict";angular.module("common.fullscreen",[]).factory("Fullscreen",["$document",function(a){var b=a[0];return{all:function(){this.enable(b.documentElement)},enable:function(a){a.requestFullScreen?a.requestFullScreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen&&a.webkitRequestFullScreen()},cancel:function(){b.cancelFullScreen?b.cancelFullScreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.webkitCancelFullScreen&&b.webkitCancelFullScreen()},isEnabled:function(){var a=b.fullscreenElement||b.mozFullScreenElement||b.webkitFullscreenElement;return a}}}]).directive("fullscreen",["Fullscreen",function(a){return{link:function(b,c,d){d.fullscreen&&b.$watch(d.fullscreen,function(b){var d=a.isEnabled();b&&!d?a.enable(c[0]):!b&&d&&a.cancel()}),c.on("click",function(){a.enable(c[0])})}}}])}(),function(){"use strict";angular.module("common.mediaelement",[]).directive("mediaelement",[function(){return{restrict:"A",link:function(a,b,c){c.$observe("src",function(){b.mediaelementplayer({videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:50,startVolume:.5,loop:!1,enableAutosize:!0,features:["playpause","progress","current","duration","tracks","volume","fullscreen"],alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[]})})}}}])}(),function(){"use strict";angular.module("common.modal",[]).directive("modal",["Modal",function(a){return{restrict:"E,A",link:function(b,c,d){c.bind("click",function(){a.load(d.modal,b)})}}}]).factory("Modal",["$http","$compile",function(a,b){var c={};return c.getModal=function(){return $(".modal-service").remove(),c.modalElement=$('<div class="modal-service modal fade"><div class="modal-dialog"><div class="modal-content"></div></div></div>'),c.modalElement.appendTo("body"),c.modalElement},c.compileAndRunPopup=function(a,c){b(a)(c),a.modal()},c.load=function(b,d){a.get(b).success(function(a){var b=c.getModal();b.find(".modal-content").html(a),c.compileAndRunPopup(b,d),b.on("hidden",function(){b.remove()}),b.find(".btn-cancel").click(function(){c.close()})})},c.close=function(){var a=$(".modal-service");a&&a.modal("hide")},c}])}(),function(){"use strict";angular.module("common.ngBindHtmlUnsafe",[]).directive("ngBindHtmlUnsafe",[function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.ngBindHtmlUnsafe),a.$watch(c.ngBindHtmlUnsafe,function(a){b.html(a||"")})}}])}(),function(){"use strict";angular.module("common.print",[]).directive("print",["$timeout",function(a){return{link:function(b,c,d){function e(){return $(d.print).html()}c.click(function(){var b=e(),c=window.open("",d.printTitle,"height=400,width=800");return c.document.write("<html><head><title>"+d.printTitle+"</title>"),c.document.write('<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css" type="text/css" />'),c.document.write("</head><body >"+b+"</body></html>"),c.print(),a(function(){c.close()},10),!0})}}}])}(),function(){"use strict";angular.module("common.redactor",[]).directive("redactor",["$timeout",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f,g=!1;f=c.redactor({imageGetJson:"/api/v1/redactor/images",imageUpload:"/api/v1/redactor/image?resource=true",fileUpload:"/api/v1/redactor/file",plugins:["fontcolor","fullscreen"],syncAfterCallback:function(b){g&&e.$viewValue!==b&&a(function(){e.$setViewValue(b)})}}).redactor("getObject"),e.$render=function(){f.set(e.$viewValue||""),g=!0},b.$on("$destroy",function(){f.destroy(),f=null})}}}])}(),function(){"use strict";angular.module("common.skype",[]).filter("skype",[function(){return function(a){return a?(a=String(a).replace(/\D/g,""),"1"===a[0]&&(a=a.substr(1)),"skype:+1"+a+"?call"):a}}])}(),function(){"use strict";angular.module("common.strings",[]).filter("titleCase",function(){var a=function(a){if(a){for(var b=a.split(" "),c=0;c<b.length;c++)b[c]=b[c].charAt(0).toUpperCase()+b[c].slice(1);return b.join(" ")}};return a}).filter("lowerCase",function(){var a=function(a){for(var b=a.split(" "),c=0;c<b.length;c++)b[c]=b[c].charAt(0).toLowerCase()+b[c].slice(1);return b.join(" ")};return a}).filter("nl2br",[function(){return function(a){return a?(a+="",a.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2")):a}}]).filter("truncate",function(){return function(a,b,c){return isNaN(b)&&(b=10),void 0===c&&(c="..."),a?a.length<=b||a.length-c.length<=b?a:String(a).substring(0,b-c.length)+c:a}}).filter("encodeURIComponent",function(){return window.encodeURIComponent}).directive("slugify",["$parse",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d){b.$watch(d.ngModel,function(c){c&&a(d.ngModel).assign(b,c.toLowerCase().replace(/[\W\s]/g,"-"))})}}}])}(),function(){"use strict";angular.module("common.time",[]).filter("moment",[function(){return function(a,b){return moment(a).format(b)}}]).filter("fromNow",[function(){return function(a){return moment(a).fromNow()}}]).filter("smallFromNow",[function(){return function(a,b){var c,d=function(a,b,c){var d=$.isFunction(a)?a(b,i):a,e=c.numbers&&c.numbers[b]||b;return d.replace(/%d/i,e)},e=(new Date).getTime(),f=new Date(a).getTime(),g=b||!1,h={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"a day",days:"%d days",month:"1mon",months:"%dmon",year:"1y",years:"%dy"},i=e-f,j=Math.abs(i)/1e3,k=j/60,l=k/60,m=l/24,n=m/365,o=void 0===h.wordSeparator?" ":h.wordSeparator,p=h.prefixAgo,q=h.suffixAgo;return g&&0>i&&(p=h.prefixFromNow,q=h.suffixFromNow),c=45>j&&d(h.seconds,Math.round(j),h)||90>j&&d(h.minute,1,h)||45>k&&d(h.minutes,Math.round(k),h)||90>k&&d(h.hour,1,h)||24>l&&d(h.hours,Math.round(l),h)||42>l&&d(h.day,1,h)||30>m&&d(h.days,Math.round(m),h)||45>m&&d(h.month,1,h)||365>m&&d(h.months,Math.round(m/30),h)||1.5>n&&d(h.year,1,h)||d(h.years,Math.round(n),h),$.trim([p,c,q].join(o))}}])}(),function(){"use strict";angular.module("common.upload",[]).directive("upload",["$timeout",function(a){return{restrict:"EA",replace:!1,scope:{upload:"=",ngModel:"=",ngChange:"&",ngError:"&"},transclude:!0,template:"<form style='margin: 0;' method='POST' enctype='multipart/form-data'><input type='file' name='{{ uploadName }}' style='display: none;'/><span style='float: left; position: relative;' class='fake-uploader' readonly='readonly' ng-model='avatar'><span ng-transclude></span><strong ng-show='progress > 0' ng-class='{ \"text-success\": progress == 100, \"text-info\": progress < 100 }' style='width: {{ progress }}%'>{{ progress }}%</strong></span></form>",link:function(b,c,d){b.uploadName=d.uploadName||"file",b.progress=0,b.avatar="",c.find(".fake-uploader").click(function(){c.find('input[type="file"]').click()}),c.find(".progress").css({width:c.find(".fake-uploader").width}),c.find("input").change(function(){var c=$(this),d=c.parents("form");return""===c.val()?!1:(d.attr("action",b.upload),b.$apply(function(){b.progress=0}),d.ajaxSubmit({type:"POST",dataType:"json",uploadProgress:function(a,c,d,e){b.$apply(function(){b.progress=e})},error:function(c,e,f,g){d.removeAttr("action"),a(function(){b.ngError({event:c,responseText:f,statusText:e,form:g})})},success:function(c){d.removeAttr("action");var e=angular.fromJson(c);void 0!==e.filename&&(b.ngModel=e.filename),a(function(){b.ngChange({responseText:c}),b.progress=0})}}),void 0)})}}}])}(),function(){"use strict";angular.module("common.youtube",[]).service("Youtube",[function(){var a=/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/;return{regex:function(){return a}}}]).filter("youtubeIframe",["$filter","Youtube",function(a,b){return function(a){if(!a)return a;var c=a.match(b.regex());return null===c?"":"//www.youtube.com/embed/"+c[1]}}]).filter("youtubeImage",["$filter","Youtube",function(a,b){return function(a){if(!a)return a;var c=a.match(b.regex());return null===c?"":"//i2.ytimg.com/vi/"+c[1]+"/mqdefault.jpg"}}])}(),function(){"use strict";angular.module("angular-common",["demo.api","demo.confirm","demo.daterange","demo.drag","demo.dragdrop","demo.fullscreen","demo.mediaelement","demo.modal","demo.ngBindHtmlUnsafe","demo.print","demo.redactor","demo.skype","demo.strings","demo.time","demo.upload","demo.youtube"]).config(["$sceProvider","$compileProvider",function(a,b){a.enabled(!1),b.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|skype):/)}]).controller("MainCtrl",["$scope",function(a){a.modules=["api","confirm","dateRange","drag","dragdrop","fullscreen","mediaelement","modal","ngBindHtmlUnsafe","print","redactor","skype","strings","time","upload","youtube"]}]).directive("scrollOnClick",[function(){return{restrict:"A",link:function(a,b,c){var d=c.href;b.on("click",function(){var a;a=d?$(d):b,$("body").animate({scrollTop:a.offset().top},"slow")})}}}])}(),function(){"use strict";angular.module("demo.api",["common.api"]).controller("DemoApiCtrl",["$scope","Api",function(a,b){b.setBase("http://api.randomuser.me/"),a.results=1,a.loadRandomUser=function(){b.get("",{results:a.results}).success(function(b){a.randomUsers=b})},a.codeExample="Api.setBase('/api/v1/');\n\n$scope.loadUser = function(userId, filters) {\n   Api.get('user/' + userId, {\n       filters: filters\n   }).success(function(data) {\n       $scope.data = data;\n   });\n};"}])}(),function(){"use strict";angular.module("demo.confirm",["common.confirm"]).controller("DemoConfirmCtrl",["$scope",function(a){a.deleteObject=function(){a.objectDeleted="Twas deleted or whatever the function is you put here!"},a.codeExample="<button\n   class='btn btn-default'\n   confirm='deleteObject(objectId)'\n   confirm-title='Delete this object?'\n   confirm-placement='left'>\n   Click Me\n</button>"}])}(),function(){"use strict";angular.module("demo.daterange",["common.dateRange"]).controller("DemoDateRangeCtrl",["$scope",function(a){a.startDate=moment().subtract("days",50).format("YYYY-MM-DD"),a.endDate=moment().format("YYYY-MM-DD"),a.dateRangeOptions={startDate:a.startDate,endDate:a.endDate},a.updateDates=function(b,c){a.startDate=b,a.endDate=c},a.codeExample="<button\n   date-range='dateRangeOptions'\n   ng-update='updateDates(start, end)'></button>"}])}(),function(){"use strict";angular.module("demo.drag",["common.drag"]).controller("DemoDragCtrl",["$scope",function(a){a.object={top:0,left:0},a.codeExample="<div drag='object'></div>"}])}(),function(){"use strict";angular.module("demo.dragdrop",["common.dragdrop"]).controller("DemoDragDropCtrl",["$scope","DragDropHandler",function(a,b){a.items=[{id:3,name:"Item 1"},{id:4,name:"Item 2"},{id:5,name:"Item 3"},{id:6,name:"Item 4"}],a.objects=[{id:1,name:"New Item 1"},{id:2,name:"New Item 2"}],a.codeExample="<ul>\n   <li\n       ng-repeat='object in objects'\n       draggable='object'\n       draggable-target='#sortable'>\n       {{ object.name }}\n   </li>\n</ul>\n\n<ul\n   droppable='items'\n   ng-update='updateObjects(id, from, to)'\n   ng-create='createObject(object, to)'\n   id='sortable'>\n   <li ng-repeat='item in items track by item.id'>\n       {{ item.name }}\n   </li>\n</ul>",a.updateObjects=function(){var b=_.pluck(a.items,"id");console.log(b)},a.createObject=function(c,d){var e=angular.copy(c);e.id=Math.ceil(1e3*Math.random()),b.addObject(e,a.items,d)},a.deleteItem=function(b){a.items=_.reject(a.items,function(a){return a.id==b})}}])}(),function(){"use strict";angular.module("demo.fullscreen",["common.fullscreen"]).controller("DemoFullscreenCtrl",["$scope","Fullscreen",function(a,b){a.fullscreen=function(){b.isEnabled()?b.cancel():b.all()},a.codeExample="<button\n    class='btn btn-default'\n    ng-click='fullscreen()'>\n    Go fullscreen\n</button>"}])}(),function(){"use strict";angular.module("demo.mediaelement",["common.mediaelement"]).controller("DemoMediaelementCtrl",["$scope",function(a){a.mp4Video="http://playground.html5rocks.com/samples/html5_misc/chrome_japan.mp4",a.codeExample="<video\n   height='240'\n   width='100%'\n   preload='auto'\n   controls='controls'\n   poster='/images/square.png'\n   mediaelement>\n   <source type='video/mp4' ng-src='{{ mp4Video }}' />\n</video>"}])}(),function(){"use strict";angular.module("demo.modal",["common.modal"]).controller("DemoModalCtrl",["$scope",function(a){a.codeExample="<button\n   modal='modules/modal/demo/demo.modal.html'\n   class='btn btn-default'>\n   Open Modal\n</button>"}])}(),function(){"use strict";angular.module("demo.ngBindHtmlUnsafe",["common.ngBindHtmlUnsafe"]).controller("DemoNgBindHtmlUnsafeCtrl",["$scope",function(a){a.html="<pre><strong>Come at me bro!</strong></pre>",a.codeExample="<div ng-bind-html-unsafe='html'></div>"}])}(),function(){"use strict";angular.module("demo.print",["demo.print"]).controller("DemoPrintCtrl",["$scope",function(a){a.codeExample="<button\n   class='btn btn-default'\n   print='#print-demo'\n   print-title='Print Demo'>\n   Print\n</button>\n\n<div id='print-demo'>Hey you there!</div>"}])}(),function(){"use strict";angular.module("demo.redactor",["common.redactor"]).controller("DemoRedactorCtrl",["$scope",function(a){a.myText="Hello you!",a.codeExample="<textarea\n   redactor\n   ng-model='myText'></textarea>"}])}(),function(){"use strict";angular.module("demo.skype",["common.skype"]).controller("DemoSkypeCtrl",["$scope",function(a){a.phoneNumber="(425) 897 - 7897",a.codeExample="<a href='{{ phoneNumber | skype }}'>\n   {{ phoneNumber | skype }}\n</a>"}])}(),function(){"use strict";angular.module("demo.strings",["common.strings"]).controller("DemoStringsCtrl",["$scope",function(a){a.slugifyExample="my blog example here",a.codeExample="{{ 'title case' | titleCase }}\n{{ 'Lower Case' | lowerCase }}\n{{ 'nl\\nbr' | nl2br }}\n{{ 'I soooo loooonnnggggg' | truncate:15 }}\n{{ 'http://www.google.com' | encodeURIComponent }}\n<input type='text' ng-model='slugifyExample' slugify>"}])}(),function(){"use strict";angular.module("demo.time",["common.time"]).controller("DemoTimeCtrl",["$scope",function(a){a.timeExample=moment().format("YYYY-MM-DD H:mm:ss"),a.codeExample="{{ timeExample | moment:'MMM D, YYYY - h:mma' }}\n{{ timeExample | fromNow }}\n{{ timeExample | smallFromNow }}"}])}(),function(){"use strict";angular.module("demo.upload",["common.upload"]).controller("DemoUploadCtrl",["$scope",function(a){a.fileUploaded=function(a){console.log(a)},a.codeExample="<button\n   class='btn btn-default'\n   ng-model='newFile.filename'\n   ng-change='optionFileUploaded(data)'\n   upload='\"/your/upload/location\"'>\n   Choose Image\n</button>"}])}(),function(){"use strict";angular.module("demo.youtube",["common.youtube"]).controller("DemoYoutubeCtrl",["$scope",function(a){a.youtubeUrl="http://www.youtube.com/watch?v=WrO9PTpuSSs",a.codeExample1="<img ng-src='{{ youtubeUrl | youtubeImage }}'>",a.codeExample2="<iframe frameborder='0' ng-src='{{ youtubeUrl | youtubeIframe }}'></iframe>"}])}();